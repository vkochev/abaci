(this.webpackJsonpabaci=this.webpackJsonpabaci||[]).push([[0],{71:function(e,n,t){e.exports=t(82)},76:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(63),o=t.n(c),u=(t(76),t(1)),i=t(21),l=t(14),s=t.n(l),d=t(27),f=t(2),m=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"];function v(){var e=Object(u.a)(["\nfrom {\n  opacity: 0;\n}\n"]);return v=function(){return e},e}function b(){var e=Object(u.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n"]);return b=function(){return e},e}function p(){var e=Object(u.a)(["\n  box-shadow: -2px -2px 6px 1px #d2d2d2, 2px -2px 6px 1px #d2d2d2;\n"]);return p=function(){return e},e}function h(){var e=Object(u.a)(["\n  ","\n  justify-content: space-between;\n"]);return h=function(){return e},e}function g(){var e=Object(u.a)(["\n  ","\n  justify-content: space-evenly;\n"]);return g=function(){return e},e}function x(){var e=Object(u.a)(["\n  display: flex;\n  align-items: baseline;\n"]);return x=function(){return e},e}var w=Object(f.a)(x()),O=(Object(f.a)(g(),w),Object(f.a)(h(),w)),j=Object(f.a)(p()),y=Object(f.a)(b()),E=Object(f.c)(v()),D=s.a.mark(L),k=s.a.mark(Q);function I(){var e=Object(u.a)(["\n  font-size: 1.5vh;\n"]);return I=function(){return e},e}function C(){var e=Object(u.a)(["\n  ","\n"]);return C=function(){return e},e}function _(){var e=Object(u.a)([""]);return _=function(){return e},e}function R(){var e=Object(u.a)(["\n  ","\n  font-size: 5vmin;\n"]);return R=function(){return e},e}function M(){var e=Object(u.a)(["\n  ","\n  ","\n  box-shadow: 0px 0px 1px 1px #f1f1f1;\n  text-align: end;\n  padding: 6px 10px;\n  &:hover {\n    cursor: pointer;\n    box-shadow: 2px 2px 4px 2px #f1f1f1;\n  }\n\n  height: 100%;\n  & > div {\n    height: 100%;\n  }\n"]);return M=function(){return e},e}function S(){var e=Object(u.a)(["\n  background: #d3d3d340;\n"]);return S=function(){return e},e}function T(){var e=Object(u.a)(["\n  background: #e5f9ff;\n  border: solid 1px #d4f2fb30;\n  box-shadow: 0px 0px 1px 1px #f1f1f1;\n"]);return T=function(){return e},e}function Y(){var e=Object(u.a)(["\n  border: none;\n  font: inherit;\n  background: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Y=function(){return e},e}function z(){var e=Object(u.a)(["\n  font-size: 5vmin;\n  align-self: center;\n  color: #d3d3d3;\n"]);return z=function(){return e},e}function F(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-rows: repeat(7, 1fr);\n  grid-template-columns: repeat(7, 1fr);\n  grid-gap: 4px;\n\n  @media screen and (min-width: 640px) {\n    height: calc(100vmin - 60px - 5vmin);\n    grid-gap: 20px;\n  }\n"]);return F=function(){return e},e}function J(){var e=Object(u.a)(["\n  @media screen and (min-width: 640px) {\n    padding: 20px;\n  }\n"]);return J=function(){return e},e}var U=f.b.div(J()),B=f.b.div(F()),q=f.b.div(z()),A=Object(f.a)(Y()),N=Object(f.a)(T()),W=Object(f.a)(S()),P=f.b.button(M(),A,(function(e){return e.isCurrentMonth?N:W})),V=f.b.div(R(),O),$=f.b.div(_()),G=f.b.button(C(),A);function H(e){return a.a.createElement(U,null,a.a.createElement(V,null,a.a.createElement(G,{children:"\u043f\u0440\u0435\u0434.",onClick:function(){return e.dispatch({type:"show_prev_month"})}}),a.a.createElement($,{children:e.monthYearString}),a.a.createElement(G,{children:"\u0441\u043b\u0435\u0434.",onClick:function(){return e.dispatch({type:"show_next_month"})}})),a.a.createElement(B,null,Object(d.a)(Q(m)),Object(d.a)(L(e.daysRange,e.anchorDate,e.fixedIncomes,e.nonRecurringIncomes,e.dispatch))))}var K=f.b.div(I());function L(e,n,t,r,c){var o,u;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=s.a.mark((function o(){var u,i,l,d,f,m;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(d=e.next(),f=d.value,!d.done){o.next=3;break}return o.abrupt("return",{v:void 0});case 3:return m=(null!==(u=r.get(f.valueOf()))&&void 0!==u?u:[]).reduce((function(e,n){return e+n.value}),0)+(null!==(i=null===(l=t.get("monthly"))||void 0===l?void 0:l.get(f.getUTCDate()))&&void 0!==i?i:[]).reduce((function(e,n){return e+n.value}),0),o.next=6,a.a.createElement(P,{key:f.toISOString(),isCurrentMonth:f.getMonth()===n.getMonth(),onClick:function(){return c({type:"select_date",value:f})}},a.a.createElement("div",null,a.a.createElement(K,null,f.getDate()),a.a.createElement("div",null,m)));case 6:case"end":return o.stop()}}),o)}));case 1:return i.delegateYield(o(),"t0",3);case 3:if("object"!==typeof(u=i.t0)){i.next=6;break}return i.abrupt("return",u.v);case 6:i.next=1;break;case 8:case"end":return i.stop()}}),D)}function Q(e){var n,t,r;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=e[Symbol.iterator]();case 1:if(t=n.next(),r=t.value,!t.done){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,a.a.createElement(q,{key:r},r);case 7:c.next=1;break;case 9:case"end":return c.stop()}}),k)}var X=t(70),Z=s.a.mark(ee);function ee(e,n){var t;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=new Date(e),r.next=3,t;case 3:if(!(t<=n)){r.next=10;break}return(t=new Date(t)).setDate(t.getDate()+1),r.next=8,t;case 8:r.next=3;break;case 10:case"end":return r.stop()}}),Z)}function ne(e){return function(e){var n=e.getDay();return new Date(e.getFullYear(),e.getMonth(),e.getDate()-n+1)}(function(e){return Object(X.a)(Date,[e.getFullYear(),e.getMonth(),1].concat(Object(d.a)((n=e.getTimezoneOffset(),[0,0+n,0,0]))));var n}(e))}var te=t(46);function re(e,n){localStorage.setItem(e,JSON.stringify(n,ae))}function ae(e,n){return n&&"object"===typeof n?Array.isArray(n)?n.map(ce):Object.fromEntries(Object.entries(n).map((function(e){var n=Object(i.a)(e,2);return[n[0],ce(n[1])]}))):n}function ce(e){var n,t,r=null===e||void 0===e||null===(n=e.__proto__)||void 0===n||null===(t=n.constructor)||void 0===t?void 0:t.name;switch(r){case"Map":return{type:r,content:Object(d.a)(e.entries())};case"Date":return{type:r,content:e.valueOf()};default:return e}}function oe(e,n){switch(null===n||void 0===n?void 0:n.type){case"Map":return new Map(n.content);case"Date":return new Date(n.content);default:return n}}var ue,ie=new Date,le=null!==(ue=function(e){var n=localStorage.getItem(e);if(!n)return null;try{return JSON.parse(n,oe)}catch(t){return console.error(t),null}}("calendarContext"))&&void 0!==ue?ue:{anchorDate:ie,firstDate:ie,lastDate:ie,selectedDate:null,nonRecurringIncomes:new Map,fixedIncomes:new Map},se=Object(r.createContext)([be(le),function(){}]);function de(e){var n=e.children,t=Object(r.useReducer)(ve,be(le),be),a=Object(i.a)(t,2),c=a[0],o=a[1];return Object(r.createElement)(se.Provider,{children:n,value:[c,o]})}function fe(){return Object(r.useContext)(se)}var me,ve=(me="calendarContext",function(e){return function(){var n=e.apply(void 0,arguments);return re(me,n),n}})(Object(te.b)((function(e,n){switch(n.type){case"show_prev_month":var t=new Date(e.firstDate);return t.setDate(t.getDate()-1),e.anchorDate=t,be(e);case"show_next_month":var r=new Date(e.lastDate);return r.setDate(r.getDate()+1),e.anchorDate=r,be(e);case"select_date":e.selectedDate=n.value;break;case"unselect_date":e.selectedDate=null;break;case"add_income":switch(n.value.type){case"nonRecurring":var a=n.date.valueOf(),c=e.nonRecurringIncomes.get(a);c?c.push(n.value):e.nonRecurringIncomes.set(a,[n.value]);break;case"fixed":switch(n.value.period){case"monthly":var o,u=n.date.getUTCDate(),i=null===(o=e.fixedIncomes.get("monthly"))||void 0===o?void 0:o.get(u);i?i.push(n.value):e.fixedIncomes.set("monthly",new Map([[u,[n.value]]]))}}break;case"remove_income":var l=n.value,s=l.type,d=l.tag,f=l.value;switch(s){case"nonRecurring":var m=n.date.valueOf(),v=e.nonRecurringIncomes.get(m);if(v){var b=v.filter((function(e){return e.tag!==d&&e.value!==f}));e.nonRecurringIncomes.set(m,b)}break;case"fixed":var p,h=n.date.getUTCDate(),g=null===(p=e.fixedIncomes.get("monthly"))||void 0===p?void 0:p.get(h);if(g){var x,w=g.filter((function(e){return e.tag!==d&&e.value!==f}));null===(x=e.fixedIncomes.get("monthly"))||void 0===x||x.set(h,w)}}}return e})));function be(e){var n;return e.firstDate=ne(e.anchorDate),e.lastDate=(n=e.firstDate,new Date(n.getFullYear(),n.getMonth(),n.getDate()+40)),e}function pe(e){var n=function(){var e=fe(),n=Object(i.a)(e,2),t=n[0],r=t.anchorDate,a=t.firstDate,c=t.lastDate,o=t.nonRecurringIncomes,u=t.fixedIncomes,l=n[1],s=ee(a,c),d=new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric"}).format(r);return{nonRecurringIncomes:o,fixedIncomes:u,daysRange:s,anchorDate:r,monthYearString:d,dispatch:l}}();return a.a.createElement(H,n)}var he=t(60),ge=t(43);function xe(){var e=Object(u.a)(["\n  padding: 0;\n  margin: 0;\n  border: none;\n"]);return xe=function(){return e},e}function we(){var e=Object(u.a)(["\n  padding: 2px;\n  font-weight: 500;\n  border: solid 2px #24db87;\n  background: #24db8790;\n  border-radius: 4px;\n  color: #115f3b;\n"]);return we=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  padding: 2px;\n  font-weight: 500;\n  border: solid 2px #52db24;\n  background: #52db2490;\n  border-radius: 4px;\n  color: #2c7513;\n"]);return Oe=function(){return e},e}function je(){var e=Object(u.a)(["\n  ","\n  flex-wrap: wrap;\n\n  & > * {\n    margin: 5px 0;\n    margin-right: 10px;\n  }\n"]);return je=function(){return e},e}function ye(){var e=Object(u.a)([""]);return ye=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  margin: 10px auto;\n"]);return Ee=function(){return e},e}function De(){var e=Object(u.a)(["\n  &[data-error-message]:after {\n    content: '!';\n    position: absolute;\n    background: #ff0000;\n    color: #ffe0e0;\n    border-radius: 50%;\n    width: 1em;\n    height: 1em;\n    text-align: center;\n    line-height: 1;\n    transform: translate(-20px, 4px);\n    font-weight: 500;\n  }\n  &:focus-within,\n  &:hover {\n    &[data-error-message]:before {\n      ",";\n    }\n    &[data-error-message]:after {\n      ","\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n    }\n  }\n"]);return De=function(){return e},e}function ke(){var e=Object(u.a)(["\n  content: '';\n  background: none;\n  border-radius: unset;\n  width: 0;\n  height: 0;\n  border: solid 4px transparent;\n  border-top: solid 4px #ff0000;\n  display: inline-block;\n  position: absolute;\n  transform: translate(-145px, -22%);\n  animation: "," 300ms;\n  opacity: 0.8;\n"]);return ke=function(){return e},e}function Ie(){var e=Object(u.a)(["\n  content: attr(data-error-message);\n  display: inline-block;\n  position: absolute;\n  transform: translate(0, -106%);\n  background: #ff0000;\n  padding: 4px 8px;\n  animation: "," 300ms;\n  border-radius: 2px;\n  color: #ffe0e0;\n  font-weight: 400;\n  max-width: 50vw;\n  opacity: 0.8;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Ie=function(){return e},e}function Ce(){var e=Object(u.a)([""]);return Ce=function(){return e},e}function _e(){var e=Object(u.a)(["\n  flex-basis: 70%;\n  flex-grow: 0;\n"]);return _e=function(){return e},e}function Re(){var e=Object(u.a)([""]);return Re=function(){return e},e}function Me(){var e=Object(u.a)(["\n  ",";\n  flex-direction: row-reverse;\n"]);return Me=function(){return e},e}function Se(){var e=Object(u.a)(["\n  margin: 8px 0;\n  ","\n"]);return Se=function(){return e},e}function Te(){var e=Object(u.a)(["\n  ","\n"]);return Te=function(){return e},e}function Ye(){var e=Object(u.a)(["\n  ","\n"]);return Ye=function(){return e},e}function ze(){var e=Object(u.a)(["\n  margin: 10px 30px;\n"]);return ze=function(){return e},e}function Fe(){var e=Object(u.a)(["\n  position: absolute;\n  bottom: 0;\n  left: inherit;\n  width: inherit;\n  background: #fff;\n  min-height: 50vh;\n  max-height: 80vh;\n  overflow-y: auto;\n  ","\n"]);return Fe=function(){return e},e}var Je=ge.b({value:ge.a().integer().min(1).required(),type:ge.c().required(),tag:ge.c().optional()}),Ue=f.b.div(Fe(),j),Be=f.b.div(ze()),qe=f.b.div(Ye(),O),Ae=f.b.a(Te(),y),Ne=f.b.div(Se(),O),We=f.b.div(Me(),w),Pe=f.b.div(Re()),Ve=f.b.div(_e()),$e=f.b.input(Ce()),Ge=Object(f.a)(Ie(),E),He=Object(f.a)(ke(),E),Ke=f.b.label(De(),Ge,He),Le=Object(f.b)(he.a)(Ee()),Qe=f.b.button(ye()),Xe=f.b.div(je(),w),Ze=f.b.div(Oe()),en=f.b.div(we()),nn=f.b.fieldset(xe());function tn(e){return a.a.createElement(Ue,null,a.a.createElement(Be,null,a.a.createElement(qe,null,a.a.createElement("h1",null,e.selectedDateString),a.a.createElement(Ae,{children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:function(){return e.dispatch({type:"unselect_date"})}})),!!e.nonRecurringIncomes&&a.a.createElement(Xe,null,e.nonRecurringIncomes.map((function(n,t){var r=n.tag,c=n.value;return a.a.createElement(Ze,{key:t},a.a.createElement("span",null,"".concat(r||"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",":\xa0").concat(c)),a.a.createElement("button",{children:"x",onClick:function(){return e.dispatch({type:"remove_income",date:e.selectedDate,value:n})}}))}))),!!e.monthlyIncomes&&a.a.createElement(Xe,null,e.monthlyIncomes.map((function(n,t){var r=n.tag,c=n.value;return a.a.createElement(en,{key:t},a.a.createElement("span",null,"".concat(r||"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",":\xa0").concat(c)),a.a.createElement("button",{children:"x",onClick:function(){return e.dispatch({type:"remove_income",date:e.selectedDate,value:n})}}))}))),a.a.createElement(he.b,{validationSchema:Je,initialValues:{tag:"",value:0,type:"fixed",period:"monthly"},onSubmit:function(n){return e.dispatch({type:"add_income",date:e.selectedDate,value:n})}},(function(e){var n=e.handleChange,t=e.errors,r=Object.values(t).some((function(e){return null!=e}));return a.a.createElement(Le,null,a.a.createElement(Ne,null,a.a.createElement(Pe,null,"\u0414\u043e\u0445\u043e\u0434"),a.a.createElement(Ve,null,a.a.createElement(Ke,{"data-error-message":t.value},a.a.createElement($e,{name:"value",type:"number",onChange:n})))),a.a.createElement(Ne,null,a.a.createElement(Pe,null,"\u0422\u0438\u043f"),a.a.createElement(Ve,null,a.a.createElement(nn,{id:"type",onChange:n},a.a.createElement("label",null,a.a.createElement("input",{type:"radio",name:"type",value:"fixed",defaultChecked:!0}),"\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0439"),a.a.createElement("label",null,a.a.createElement("input",{type:"radio",name:"type",value:"nonRecurring"}),"\u0420\u0430\u0437\u043e\u0432\u044b\u0439")))),a.a.createElement(Ne,null,a.a.createElement(Pe,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),a.a.createElement(Ve,null,a.a.createElement(Ke,{"data-error-message":t.tag},a.a.createElement($e,{name:"tag",type:"text",onChange:n})))),a.a.createElement(We,null,a.a.createElement(Ve,null,a.a.createElement(Qe,{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",disabled:r}))))}))))}function rn(e){var n=function(){var e,n=fe(),t=Object(i.a)(n,2),r=t[0],a=r.selectedDate,c=r.nonRecurringIncomes,o=r.fixedIncomes,u=t[1],l=a?new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric",day:"2-digit"}).format(a):null;return{selectedDate:a,nonRecurringIncomes:a?c.get(a.valueOf()):[],monthlyIncomes:a?null===(e=o.get("monthly"))||void 0===e?void 0:e.get(a.getUTCDate()):[],selectedDateString:l,dispatch:u,show:Boolean(a)}}();return n.show?a.a.createElement(tn,n):null}function an(){var e=Object(u.a)(["\n  margin: 0 auto;\n  background: ghostwhite;\n  ","\n  width: min-content;\n  font-weight: 300;\n  width: calc(100vmin - 4px);\n  @media screen and (min-width: 640px) {\n    width: calc(100vmin - 40px);\n  }\n\n  h1 {\n    margin: 6px 0;\n    font-weight: 300;\n    font-size: 24px;\n  }\n"]);return an=function(){return e},e}var cn=f.b.div(an(),j);var on=function(){return a.a.createElement(de,null,a.a.createElement(cn,null,a.a.createElement(pe,null),a.a.createElement(rn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(te.a)(),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(on,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.efbe2a7c.chunk.js.map