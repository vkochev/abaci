(this.webpackJsonpabaci=this.webpackJsonpabaci||[]).push([[0],{71:function(n,e,t){n.exports=t(82)},76:function(n,e,t){},82:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(63),o=t.n(c),u=(t(76),t(1)),i=t(21),l=t(14),s=t.n(l),d=t(27),f=t(2),m=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"];function v(){var n=Object(u.a)(["\nfrom {\n  opacity: 0;\n}\n"]);return v=function(){return n},n}function b(){var n=Object(u.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n"]);return b=function(){return n},n}function p(){var n=Object(u.a)(["\n  box-shadow: -2px -2px 6px 1px #d2d2d2, 2px -2px 6px 1px #d2d2d2;\n"]);return p=function(){return n},n}function h(){var n=Object(u.a)(["\n  ","\n  justify-content: space-between;\n"]);return h=function(){return n},n}function g(){var n=Object(u.a)(["\n  ","\n  justify-content: space-evenly;\n"]);return g=function(){return n},n}function x(){var n=Object(u.a)(["\n  display: flex;\n  align-items: baseline;\n"]);return x=function(){return n},n}var w=Object(f.a)(x()),O=(Object(f.a)(g(),w),Object(f.a)(h(),w)),j=Object(f.a)(p()),y=Object(f.a)(b()),E=Object(f.c)(v()),D=s.a.mark(L),k=s.a.mark(Q);function I(){var n=Object(u.a)(["\n  font-size: 1.5vh;\n"]);return I=function(){return n},n}function C(){var n=Object(u.a)(["\n  ","\n"]);return C=function(){return n},n}function _(){var n=Object(u.a)([""]);return _=function(){return n},n}function R(){var n=Object(u.a)(["\n  ","\n  font-size: 5vmin;\n"]);return R=function(){return n},n}function M(){var n=Object(u.a)(["\n  ","\n  ","\n  box-shadow: 0px 0px 1px 1px #f1f1f1;\n  text-align: end;\n  padding: 6px 10px;\n  &:hover {\n    cursor: pointer;\n    box-shadow: 2px 2px 4px 2px #f1f1f1;\n  }\n\n  height: 100%;\n  & > div {\n    height: 100%;\n  }\n"]);return M=function(){return n},n}function S(){var n=Object(u.a)(["\n  background: #d3d3d340;\n"]);return S=function(){return n},n}function T(){var n=Object(u.a)(["\n  background: #e5f9ff;\n  border: solid 1px #d4f2fb30;\n  box-shadow: 0px 0px 1px 1px #f1f1f1;\n"]);return T=function(){return n},n}function Y(){var n=Object(u.a)(["\n  border: none;\n  font: inherit;\n  background: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Y=function(){return n},n}function z(){var n=Object(u.a)(["\n  font-size: 5vmin;\n  align-self: center;\n  color: #d3d3d3;\n"]);return z=function(){return n},n}function F(){var n=Object(u.a)(["\n  display: grid;\n  grid-template-rows: repeat(7, 1fr);\n  grid-template-columns: repeat(7, 1fr);\n  grid-gap: 4px;\n\n  @media screen and (min-width: 640px) {\n    height: calc(100vmin - 60px - 5vmin);\n    grid-gap: 20px;\n  }\n"]);return F=function(){return n},n}function J(){var n=Object(u.a)(["\n  @media screen and (min-width: 640px) {\n    padding: 20px;\n  }\n"]);return J=function(){return n},n}var B=f.b.div(J()),U=f.b.div(F()),q=f.b.div(z()),A=Object(f.a)(Y()),N=Object(f.a)(T()),W=Object(f.a)(S()),P=f.b.button(M(),A,(function(n){return n.isCurrentMonth?N:W})),V=f.b.div(R(),O),$=f.b.div(_()),G=f.b.button(C(),A);function H(n){return a.a.createElement(B,null,a.a.createElement(V,null,a.a.createElement(G,{children:"\u043f\u0440\u0435\u0434.",onClick:function(){return n.dispatch({type:"show_prev_month"})}}),a.a.createElement($,{children:n.monthYearString}),a.a.createElement(G,{children:"\u0441\u043b\u0435\u0434.",onClick:function(){return n.dispatch({type:"show_next_month"})}})),a.a.createElement(U,null,Object(d.a)(Q(m)),Object(d.a)(L(n.daysRange,n.anchorDate,n.fixedIncomes,n.nonRecurringIncomes,n.dispatch))))}var K=f.b.div(I());function L(n,e,t,r,c){var o,u;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=s.a.mark((function o(){var u,i,l,d,f,m;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(d=n.next(),f=d.value,!d.done){o.next=3;break}return o.abrupt("return",{v:void 0});case 3:return m=(null!==(u=r.get(f.valueOf()))&&void 0!==u?u:[]).reduce((function(n,e){return n+e.value}),0)+(null!==(i=null===(l=t.get("monthly"))||void 0===l?void 0:l.get(f.getUTCDate()))&&void 0!==i?i:[]).reduce((function(n,e){return n+e.value}),0),o.next=6,a.a.createElement(P,{key:f.toISOString(),isCurrentMonth:f.getMonth()===e.getMonth(),onClick:function(){return c({type:"select_date",value:f})}},a.a.createElement("div",null,a.a.createElement(K,null,f.getDate()),a.a.createElement("div",null,m)));case 6:case"end":return o.stop()}}),o)}));case 1:return i.delegateYield(o(),"t0",3);case 3:if("object"!==typeof(u=i.t0)){i.next=6;break}return i.abrupt("return",u.v);case 6:i.next=1;break;case 8:case"end":return i.stop()}}),D)}function Q(n){var e,t,r;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:e=n[Symbol.iterator]();case 1:if(t=e.next(),r=t.value,!t.done){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,a.a.createElement(q,{key:r},r);case 7:c.next=1;break;case 9:case"end":return c.stop()}}),k)}var X=t(70),Z=s.a.mark(nn);function nn(n,e){var t;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=new Date(n),r.next=3,t;case 3:if(!(t<=e)){r.next=10;break}return(t=new Date(t)).setDate(t.getDate()+1),r.next=8,t;case 8:r.next=3;break;case 10:case"end":return r.stop()}}),Z)}function en(n){return function(n){var e=n.getDay();return new Date(n.getFullYear(),n.getMonth(),n.getDate()-e+1)}(function(n){return Object(X.a)(Date,[n.getFullYear(),n.getMonth(),1].concat(Object(d.a)((e=n.getTimezoneOffset(),[0,0+e,0,0]))));var e}(n))}var tn=t(46);function rn(n,e){localStorage.setItem(n,JSON.stringify(e,an))}function an(n,e){return e&&"object"===typeof e?Array.isArray(e)?e.map(cn):Object.fromEntries(Object.entries(e).map((function(n){var e=Object(i.a)(n,2);return[e[0],cn(e[1])]}))):e}function cn(n){var e,t,r=null===n||void 0===n||null===(e=n.__proto__)||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name;switch(r){case"Map":return{type:r,content:Object(d.a)(n.entries())};case"Date":return{type:r,content:n.valueOf()};default:return n}}function on(n,e){switch(null===e||void 0===e?void 0:e.type){case"Map":return new Map(e.content);case"Date":return new Date(e.content);default:return e}}var un,ln=new Date,sn=null!==(un=function(n){var e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e,on)}catch(t){return console.error(t),null}}("calendarContext"))&&void 0!==un?un:{anchorDate:ln,firstDate:ln,lastDate:ln,selectedDate:null,nonRecurringIncomes:new Map,fixedIncomes:new Map},dn=Object(r.createContext)([pn(sn),function(){}]);function fn(n){var e=n.children,t=Object(r.useReducer)(bn,pn(sn),pn),a=Object(i.a)(t,2),c=a[0],o=a[1];return Object(r.createElement)(dn.Provider,{children:e,value:[c,o]})}function mn(){return Object(r.useContext)(dn)}var vn,bn=(vn="calendarContext",function(n){return function(){var e=n.apply(void 0,arguments);return rn(vn,e),e}})(Object(tn.b)((function(n,e){switch(e.type){case"show_prev_month":var t=new Date(n.firstDate);return t.setDate(t.getDate()-1),n.anchorDate=t,pn(n);case"show_next_month":var r=new Date(n.lastDate);return r.setDate(r.getDate()+1),n.anchorDate=r,pn(n);case"select_date":n.selectedDate=e.value;break;case"unselect_date":n.selectedDate=null;break;case"add_income":switch(e.value.type){case"nonRecurring":var a=e.date.valueOf(),c=n.nonRecurringIncomes.get(a);c?c.push(e.value):n.nonRecurringIncomes.set(a,[e.value]);break;case"fixed":switch(e.value.period){case"monthly":var o,u=e.date.getUTCDate(),i=null===(o=n.fixedIncomes.get("monthly"))||void 0===o?void 0:o.get(u);i?i.push(e.value):n.fixedIncomes.set("monthly",new Map([[u,[e.value]]]))}}}return n})));function pn(n){var e;return n.firstDate=en(n.anchorDate),n.lastDate=(e=n.firstDate,new Date(e.getFullYear(),e.getMonth(),e.getDate()+40)),n}function hn(n){var e=function(){var n=mn(),e=Object(i.a)(n,2),t=e[0],r=t.anchorDate,a=t.firstDate,c=t.lastDate,o=t.nonRecurringIncomes,u=t.fixedIncomes,l=e[1],s=nn(a,c),d=new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric"}).format(r);return{nonRecurringIncomes:o,fixedIncomes:u,daysRange:s,anchorDate:r,monthYearString:d,dispatch:l}}();return a.a.createElement(H,e)}var gn=t(60),xn=t(43);function wn(){var n=Object(u.a)(["\n  padding: 0;\n  margin: 0;\n  border: none;\n"]);return wn=function(){return n},n}function On(){var n=Object(u.a)(["\n  padding: 2px;\n  font-weight: 500;\n  border: solid 2px #24db87;\n  background: #24db8790;\n  border-radius: 4px;\n  color: #115f3b;\n"]);return On=function(){return n},n}function jn(){var n=Object(u.a)(["\n  padding: 2px;\n  font-weight: 500;\n  border: solid 2px #52db24;\n  background: #52db2490;\n  border-radius: 4px;\n  color: #2c7513;\n"]);return jn=function(){return n},n}function yn(){var n=Object(u.a)(["\n  ","\n  flex-wrap: wrap;\n\n  & > * {\n    margin: 5px 0;\n    margin-right: 10px;\n  }\n"]);return yn=function(){return n},n}function En(){var n=Object(u.a)([""]);return En=function(){return n},n}function Dn(){var n=Object(u.a)(["\n  margin: 10px auto;\n"]);return Dn=function(){return n},n}function kn(){var n=Object(u.a)(["\n  &[data-error-message]:after {\n    content: '!';\n    position: absolute;\n    background: #ff0000;\n    color: #ffe0e0;\n    border-radius: 50%;\n    width: 1em;\n    height: 1em;\n    text-align: center;\n    line-height: 1;\n    transform: translate(-20px, 4px);\n    font-weight: 500;\n  }\n  &:focus-within,\n  &:hover {\n    &[data-error-message]:before {\n      ",";\n    }\n    &[data-error-message]:after {\n      ","\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n    }\n  }\n"]);return kn=function(){return n},n}function In(){var n=Object(u.a)(["\n  content: '';\n  background: none;\n  border-radius: unset;\n  width: 0;\n  height: 0;\n  border: solid 4px transparent;\n  border-top: solid 4px #ff0000;\n  display: inline-block;\n  position: absolute;\n  transform: translate(-145px, -22%);\n  animation: "," 300ms;\n  opacity: 0.8;\n"]);return In=function(){return n},n}function Cn(){var n=Object(u.a)(["\n  content: attr(data-error-message);\n  display: inline-block;\n  position: absolute;\n  transform: translate(0, -106%);\n  background: #ff0000;\n  padding: 4px 8px;\n  animation: "," 300ms;\n  border-radius: 2px;\n  color: #ffe0e0;\n  font-weight: 400;\n  max-width: 50vw;\n  opacity: 0.8;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Cn=function(){return n},n}function _n(){var n=Object(u.a)([""]);return _n=function(){return n},n}function Rn(){var n=Object(u.a)(["\n  flex-basis: 70%;\n  flex-grow: 0;\n"]);return Rn=function(){return n},n}function Mn(){var n=Object(u.a)([""]);return Mn=function(){return n},n}function Sn(){var n=Object(u.a)(["\n  ",";\n  flex-direction: row-reverse;\n"]);return Sn=function(){return n},n}function Tn(){var n=Object(u.a)(["\n  margin: 8px 0;\n  ","\n"]);return Tn=function(){return n},n}function Yn(){var n=Object(u.a)(["\n  ","\n"]);return Yn=function(){return n},n}function zn(){var n=Object(u.a)(["\n  ","\n"]);return zn=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  margin: 10px 30px;\n"]);return Fn=function(){return n},n}function Jn(){var n=Object(u.a)(["\n  position: absolute;\n  bottom: 0;\n  left: inherit;\n  width: inherit;\n  background: #fff;\n  min-height: 50vh;\n  max-height: 80vh;\n  overflow-y: auto;\n  ","\n"]);return Jn=function(){return n},n}var Bn=xn.b({value:xn.a().integer().min(1).required(),type:xn.c().required(),tag:xn.c().optional()}),Un=f.b.div(Jn(),j),qn=f.b.div(Fn()),An=f.b.div(zn(),O),Nn=f.b.a(Yn(),y),Wn=f.b.div(Tn(),O),Pn=f.b.div(Sn(),w),Vn=f.b.div(Mn()),$n=f.b.div(Rn()),Gn=f.b.input(_n()),Hn=Object(f.a)(Cn(),E),Kn=Object(f.a)(In(),E),Ln=f.b.label(kn(),Hn,Kn),Qn=Object(f.b)(gn.a)(Dn()),Xn=f.b.button(En()),Zn=f.b.div(yn(),w),ne=f.b.div(jn()),ee=f.b.div(On()),te=f.b.fieldset(wn());function re(n){return a.a.createElement(Un,null,a.a.createElement(qn,null,a.a.createElement(An,null,a.a.createElement("h1",null,n.selectedDateString),a.a.createElement(Nn,{children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:function(){return n.dispatch({type:"unselect_date"})}})),a.a.createElement(gn.b,{validationSchema:Bn,initialValues:{tag:"",value:0,type:"fixed",period:"monthly"},onSubmit:function(e){return n.dispatch({type:"add_income",date:n.selectedDate,value:e})}},(function(e){var t=e.handleChange,r=e.errors,c=Object.values(r).some((function(n){return null!=n}));return a.a.createElement(Qn,null,!!n.nonRecurringIncomes&&a.a.createElement(Zn,null,n.nonRecurringIncomes.map((function(n,e){var t=n.tag,r=n.value;return a.a.createElement(ne,{key:e,children:"".concat(t||"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",":\xa0").concat(r)})}))),!!n.monthlyIncomes&&a.a.createElement(Zn,null,n.monthlyIncomes.map((function(n,e){var t=n.tag,r=n.value;return a.a.createElement(ee,{key:e,children:"".concat(t||"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",":\xa0").concat(r)})}))),a.a.createElement(Wn,null,a.a.createElement(Vn,null,"\u0414\u043e\u0445\u043e\u0434"),a.a.createElement($n,null,a.a.createElement(Ln,{"data-error-message":r.value},a.a.createElement(Gn,{name:"value",type:"number",onChange:t})))),a.a.createElement(Wn,null,a.a.createElement(Vn,null,"\u0422\u0438\u043f"),a.a.createElement($n,null,a.a.createElement(te,{id:"type",onChange:t},a.a.createElement("label",null,a.a.createElement("input",{type:"radio",name:"type",value:"fixed",defaultChecked:!0}),"\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0439"),a.a.createElement("label",null,a.a.createElement("input",{type:"radio",name:"type",value:"nonRecurring"}),"\u0420\u0430\u0437\u043e\u0432\u044b\u0439")))),a.a.createElement(Wn,null,a.a.createElement(Vn,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),a.a.createElement($n,null,a.a.createElement(Ln,{"data-error-message":r.tag},a.a.createElement(Gn,{name:"tag",type:"text",onChange:t})))),a.a.createElement(Pn,null,a.a.createElement($n,null,a.a.createElement(Xn,{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",disabled:c}))))}))))}function ae(n){var e=function(){var n,e=mn(),t=Object(i.a)(e,2),r=t[0],a=r.selectedDate,c=r.nonRecurringIncomes,o=r.fixedIncomes,u=t[1],l=a?new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric",day:"2-digit"}).format(a):null;return{selectedDate:a,nonRecurringIncomes:a?c.get(a.valueOf()):[],monthlyIncomes:a?null===(n=o.get("monthly"))||void 0===n?void 0:n.get(a.getUTCDate()):[],selectedDateString:l,dispatch:u,show:Boolean(a)}}();return e.show?a.a.createElement(re,e):null}function ce(){var n=Object(u.a)(["\n  margin: 0 auto;\n  background: ghostwhite;\n  ","\n  width: min-content;\n  font-weight: 300;\n  width: calc(100vmin - 4px);\n  @media screen and (min-width: 640px) {\n    width: calc(100vmin - 40px);\n  }\n\n  h1 {\n    margin: 6px 0;\n    font-weight: 300;\n    font-size: 24px;\n  }\n"]);return ce=function(){return n},n}var oe=f.b.div(ce(),j);var ue=function(){return a.a.createElement(fn,null,a.a.createElement(oe,null,a.a.createElement(hn,null),a.a.createElement(ae,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(tn.a)(),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.4c2a7550.chunk.js.map